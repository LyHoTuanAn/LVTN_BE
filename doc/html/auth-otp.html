<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê Authentication Flow - API Documentation</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/clouds/100/web.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #1a1a1a;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        h1 {
            color: #4a9eff;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid #4a9eff;
            padding-bottom: 15px;
        }

        h2 {
            color: #6bc46b;
            font-size: 2em;
            margin-top: 40px;
            margin-bottom: 20px;
            padding: 15px;
            background: #252525;
            border-left: 4px solid #6bc46b;
            border-radius: 6px;
        }

        h3 {
            color: #ffa94d;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
            padding: 10px;
            background: #2a2a2a;
            border-left: 3px solid #ffa94d;
            border-radius: 4px;
        }

        h4 {
            color: #9d9dff;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        .section-box {
            background: #222222;
            border: 1px solid #333333;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .info-box {
            background: #1e3a5f;
            border-left: 4px solid #4a9eff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .warning-box {
            background: #5a3a1e;
            border-left: 4px solid #ffa94d;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .success-box {
            background: #1e3a2e;
            border-left: 4px solid #6bc46b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        code {
            background: #2a2a2a;
            color: #ff6b9d;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #1a1a1a;
            border: 1px solid #333333;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        pre code {
            background: transparent;
            color: #e0e0e0;
            padding: 0;
            font-size: 0.95em;
            line-height: 1.5;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #222222;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        th {
            background: #2a2a2a;
            color: #4a9eff;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #4a9eff;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #333333;
            color: #d0d0d0;
        }

        tr:hover {
            background: #2a2a2a;
        }

        tr:last-child td {
            border-bottom: none;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 8px 0;
            color: #d0d0d0;
        }

        blockquote {
            border-left: 4px solid #6bc46b;
            padding: 15px 20px;
            margin: 20px 0;
            background: #1e3a2e;
            border-radius: 4px;
            font-style: italic;
        }

        hr {
            border: none;
            border-top: 2px solid #333333;
            margin: 40px 0;
        }

        .method-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9em;
            margin-right: 10px;
        }

        .method-post {
            background: #4a9eff;
            color: #fff;
        }

        .method-get {
            background: #6bc46b;
            color: #fff;
        }

        .method-put {
            background: #ffa94d;
            color: #fff;
        }

        .method-delete {
            background: #ff6b9d;
            color: #fff;
        }

        .required {
            color: #ff6b9d;
            font-weight: bold;
        }

        .optional {
            color: #9d9dff;
        }

        .url-box {
            background: #1a1a1a;
            border: 1px solid #4a9eff;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #4a9eff;
            font-size: 1.1em;
        }

        .json-block {
            background: #1a1a1a;
            border: 1px solid #333333;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }

        .json-key {
            color: #4a9eff;
        }

        .json-string {
            color: #6bc46b;
        }

        .json-number {
            color: #ffa94d;
        }

        .json-boolean {
            color: #ff6b9d;
        }

        .json-null {
            color: #9d9dff;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            h2 {
                font-size: 1.5em;
            }

            table {
                font-size: 0.9em;
            }

            th, td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîê Authentication Flow</h1>
        
        <div class="section-box">
            <p>T√†i li·ªáu n√†y m√¥ t·∫£ c√°c API endpoints cho flow x√°c th·ª±c v·ªõi OTP (One-Time Password) qua email.</p>
        </div>

        <h2>T·ªïng Quan Flow</h2>

        <div class="section-box">
            <h3>1. Register Flow</h3>
            <ol>
                <li>User ƒëƒÉng k√Ω ‚Üí Nh·∫≠n OTP qua email</li>
                <li>User verify OTP ‚Üí Email ƒë∆∞·ª£c x√°c minh</li>
                <li>User c√≥ th·ªÉ ƒëƒÉng nh·∫≠p</li>
            </ol>

            <h3>2. Login Flow</h3>
            <ol>
                <li>User ƒëƒÉng nh·∫≠p v·ªõi email/password</li>
                <li>N·∫øu email ch∆∞a verify ‚Üí Y√™u c·∫ßu verify OTP</li>
                <li>N·∫øu email ƒë√£ verify ‚Üí Nh·∫≠n JWT token</li>
            </ol>

            <h3>3. Forgot Password Flow</h3>
            <ol>
                <li>User y√™u c·∫ßu ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u ‚Üí Nh·∫≠n OTP qua email</li>
                <li>User verify OTP ‚Üí X√°c minh th√†nh c√¥ng</li>
                <li>User ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u m·ªõi</li>
            </ol>
        </div>

        <hr>

        <h2>1. Register (ƒêƒÉng K√Ω)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/register
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <h3>Body</h3>
            <pre><code>{
  "name": "Nguy·ªÖn VƒÉn A",
  "email": "nguyenvana@example.com",
  "password": "password123",
  "phone": "0123456789",
  "address": "123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM"
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>Mi√™u t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>name</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>T√™n ng∆∞·ªùi d√πng (t·ªëi ƒëa 100 k√Ω t·ª±)</td>
                    </tr>
                    <tr>
                        <td><code>email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email ƒëƒÉng k√Ω (ph·∫£i unique)</td>
                    </tr>
                    <tr>
                        <td><code>password</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M·∫≠t kh·∫©u (t·ªëi thi·ªÉu 8 k√Ω t·ª±)</td>
                    </tr>
                    <tr>
                        <td><code>phone</code></td>
                        <td><span class="optional">‚úó</span></td>
                        <td>String</td>
                        <td>S·ªë ƒëi·ªán tho·∫°i (t·ªëi ƒëa 20 k√Ω t·ª±)</td>
                    </tr>
                    <tr>
                        <td><code>address</code></td>
                        <td><span class="optional">‚úó</span></td>
                        <td>String</td>
                        <td>ƒê·ªãa ch·ªâ (t·ªëi ƒëa 255 k√Ω t·ª±)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "OTP_SENT_SUCCESS",
  "message": "M√£ OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n",
  "data": {
    "id": 10,
    "name": "Nguy·ªÖn VƒÉn A",
    "email": "nguyenvana@example.com",
    "phone": "0123456789",
    "address": "123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM",
    "email_verified_at": null,
    "role": {
      "id": 3,
      "name": "Customer",
      "slug": "customer"
    },
    "created_at": "2024-01-15 10:30:00"
  }
}</code></pre>

            <h3>Response Error</h3>
            <pre><code>{
  "success": false,
  "code": "VALIDATION_ERROR",
  "message": "D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá",
  "errors": {
    "email": "The email has already been taken",
    "password": "The password must be at least 8 characters."
  }
}</code></pre>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>OTP_SENT_SUCCESS</code></td>
                        <td>201</td>
                        <td>ƒêƒÉng k√Ω th√†nh c√¥ng, OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>VALIDATION_ERROR</code></td>
                        <td>422</td>
                        <td>D·ªØ li·ªáu validation kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                    <tr>
                        <td><code>EMAIL_EXISTS</code></td>
                        <td>422</td>
                        <td>Email ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng</td>
                    </tr>
                    <tr>
                        <td><code>USER_CREATION_FAILED</code></td>
                        <td>500</td>
                        <td>L·ªói khi t·∫°o user</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <hr>

        <h2>2. Verify OTP (X√°c Minh OTP)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/verify-otp
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <h3>Body</h3>
            <pre><code>{
  "email": "nguyenvana@example.com",
  "otp_code": "123456",
  "type": "register"
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>Mi√™u t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email ƒë√£ ƒëƒÉng k√Ω</td>
                    </tr>
                    <tr>
                        <td><code>otp_code</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M√£ OTP 6 ch·ªØ s·ªë (0-9)</td>
                    </tr>
                    <tr>
                        <td><code>type</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Lo·∫°i OTP: <code>register</code> ho·∫∑c <code>forgot_password</code></td>
                    </tr>
                </tbody>
            </table>

            <div class="warning-box">
                <strong>Ghi ch√∫:</strong><br>
                - <code>type = register</code>: x√°c minh email cho t√†i kho·∫£n m·ªõi.<br>
                - <code>type = forgot_password</code>: x√°c minh OTP cho flow ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u.
            </div>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "OTP_VERIFIED_SUCCESS",
  "message": "X√°c minh m√£ OTP th√†nh c√¥ng",
  "data": null
}</code></pre>

            <h4>Response Success (Forgot Password)</h4>
            <pre><code>{
  "success": true,
  "code": "OTP_VERIFIED_SUCCESS",
  "message": "X√°c minh m√£ OTP th√†nh c√¥ng",
  "data": {
    "reset_token": "C6d1L9...xYZ12",
    "expires_in": 600
  }
}</code></pre>

            <div class="info-box">
                <code>reset_token</code> c√≥ hi·ªáu l·ª±c 10 ph√∫t. Token n√†y ph·∫£i ƒë∆∞·ª£c g·ª≠i trong API <code>reset-password</code>.
            </div>

            <h3>Response Error</h3>
            <pre><code>{
  "success": false,
  "code": "RESET_TOKEN_INVALID",
  "message": "Token ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n",
  "errors": {
    "reset_token": "Token ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n"
  }
}</code></pre>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>OTP_VERIFIED_SUCCESS</code></td>
                        <td>200</td>
                        <td>X√°c minh OTP th√†nh c√¥ng</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>OTP_INVALID</code></td>
                        <td>400</td>
                        <td>M√£ OTP kh√¥ng h·ª£p l·ªá ho·∫∑c kh√¥ng kh·ªõp</td>
                    </tr>
                    <tr>
                        <td><code>OTP_EXPIRED</code></td>
                        <td>400</td>
                        <td>M√£ OTP ƒë√£ h·∫øt h·∫°n (5 ph√∫t)</td>
                    </tr>
                    <tr>
                        <td><code>OTP_ALREADY_VERIFIED</code></td>
                        <td>400</td>
                        <td>M√£ OTP ƒë√£ ƒë∆∞·ª£c x√°c minh</td>
                    </tr>
                    <tr>
                        <td><code>OTP_NOT_FOUND</code></td>
                        <td>404</td>
                        <td>Kh√¥ng t√¨m th·∫•y m√£ OTP</td>
                    </tr>
                    <tr>
                        <td><code>VALIDATION_ERROR</code></td>
                        <td>422</td>
                        <td>D·ªØ li·ªáu validation kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <hr>

        <h2>3. Resend OTP (G·ª≠i L·∫°i OTP)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/resend-otp
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <h3>Body</h3>
            <pre><code>{
  "email": "nguyenvana@example.com",
  "type": "register"
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>Mi√™u t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email c·∫ßn g·ª≠i l·∫°i OTP</td>
                    </tr>
                    <tr>
                        <td><code>type</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Lo·∫°i OTP: <code>register</code> ho·∫∑c <code>forgot_password</code></td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "OTP_RESENT_SUCCESS",
  "message": "M√£ OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i l·∫°i ƒë·∫øn email c·ªßa b·∫°n",
  "data": null
}</code></pre>

            <h3>Response Error</h3>
            <pre><code>{
  "success": false,
  "code": "RATE_LIMIT_EXCEEDED",
  "message": "Vui l√≤ng ƒë·ª£i 60 gi√¢y tr∆∞·ªõc khi y√™u c·∫ßu m√£ OTP m·ªõi",
  "errors": {
    "email": "Vui l√≤ng ƒë·ª£i 60 gi√¢y tr∆∞·ªõc khi y√™u c·∫ßu m√£ OTP m·ªõi"
  }
}</code></pre>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>OTP_RESENT_SUCCESS</code></td>
                        <td>200</td>
                        <td>G·ª≠i l·∫°i OTP th√†nh c√¥ng</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>RATE_LIMIT_EXCEEDED</code></td>
                        <td>429</td>
                        <td>Ch∆∞a ƒë·ªß 60 gi√¢y k·ªÉ t·ª´ l·∫ßn g·ª≠i OTP tr∆∞·ªõc</td>
                    </tr>
                    <tr>
                        <td><code>VALIDATION_ERROR</code></td>
                        <td>422</td>
                        <td>D·ªØ li·ªáu validation kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                </tbody>
            </table>

            <h3>Notes</h3>
            <ul>
                <li>Rate limiting: Ph·∫£i ƒë·ª£i √≠t nh·∫•t 60 gi√¢y gi·ªØa c√°c l·∫ßn g·ª≠i l·∫°i OTP</li>
                <li>OTP c≈© s·∫Ω t·ª± ƒë·ªông b·ªã v√¥ hi·ªáu h√≥a khi t·∫°o OTP m·ªõi</li>
            </ul>
        </div>

        <hr>

        <h2>4. Login (ƒêƒÉng Nh·∫≠p)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/login
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <h3>Body</h3>
            <pre><code>{
  "email": "nguyenvana@example.com",
  "password": "password123"
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>Mi√™u t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email ƒëƒÉng nh·∫≠p</td>
                    </tr>
                    <tr>
                        <td><code>password</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M·∫≠t kh·∫©u</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "LOGIN_SUCCESS",
  "message": "ƒêƒÉng nh·∫≠p th√†nh c√¥ng",
  "data": {
    "user": {
      "id": 10,
      "name": "Nguy·ªÖn VƒÉn A",
      "email": "nguyenvana@example.com",
      "email_verified_at": "2024-01-15 10:35:00",
      "role": {
        "id": 3,
        "name": "Customer",
        "slug": "customer"
      }
    },
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "refresh_token": "C6d1L9xYZ12abc123...",
    "token_type": "bearer",
    "expires_in": 3600
  }
}</code></pre>

            <h3>Response Fields</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>success</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Boolean</td>
                        <td>Tr·∫°ng th√°i th√†nh c√¥ng (<code>true</code>)</td>
                    </tr>
                    <tr>
                        <td><code>code</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M√£ response (<code>LOGIN_SUCCESS</code>)</td>
                    </tr>
                    <tr>
                        <td><code>message</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Th√¥ng b√°o theo ng√¥n ng·ªØ client y√™u c·∫ßu</td>
                    </tr>
                    <tr>
                        <td><code>data</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Object</td>
                        <td>D·ªØ li·ªáu ƒëƒÉng nh·∫≠p</td>
                    </tr>
                    <tr>
                        <td><code>data.user</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Object</td>
                        <td>Th√¥ng tin user</td>
                    </tr>
                    <tr>
                        <td><code>data.access_token</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>JWT access token (h·∫øt h·∫°n sau 1 gi·ªù)</td>
                    </tr>
                    <tr>
                        <td><code>data.refresh_token</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Refresh token (h·∫øt h·∫°n sau 30 ng√†y)</td>
                    </tr>
                    <tr>
                        <td><code>data.token_type</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Lo·∫°i token (<code>bearer</code>)</td>
                    </tr>
                    <tr>
                        <td><code>data.expires_in</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Number</td>
                        <td>Th·ªùi gian h·∫øt h·∫°n access token (gi√¢y) - 3600 (1 gi·ªù)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Error - Email Ch∆∞a Verify</h3>
            <pre><code>{
  "success": false,
  "code": "EMAIL_NOT_VERIFIED",
  "message": "Email ch∆∞a ƒë∆∞·ª£c x√°c minh",
  "errors": {
    "email": "Email ch∆∞a ƒë∆∞·ª£c x√°c minh"
  }
}</code></pre>

            <h3>Response Error - Sai Th√¥ng Tin</h3>
            <pre><code>{
  "success": false,
  "code": "LOGIN_FAILED",
  "message": "Th√¥ng tin ƒëƒÉng nh·∫≠p kh√¥ng ch√≠nh x√°c",
  "errors": {
    "credentials": "Th√¥ng tin ƒëƒÉng nh·∫≠p kh√¥ng ch√≠nh x√°c"
  }
}</code></pre>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>LOGIN_SUCCESS</code></td>
                        <td>200</td>
                        <td>ƒêƒÉng nh·∫≠p th√†nh c√¥ng</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>LOGIN_FAILED</code></td>
                        <td>401</td>
                        <td>Email ho·∫∑c m·∫≠t kh·∫©u kh√¥ng ch√≠nh x√°c</td>
                    </tr>
                    <tr>
                        <td><code>EMAIL_NOT_VERIFIED</code></td>
                        <td>403</td>
                        <td>Email ch∆∞a ƒë∆∞·ª£c x√°c minh (c·∫ßn verify OTP)</td>
                    </tr>
                    <tr>
                        <td><code>VALIDATION_ERROR</code></td>
                        <td>422</td>
                        <td>D·ªØ li·ªáu validation kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                </tbody>
            </table>

            <h3>Notes</h3>
            <ul>
                <li>N·∫øu email ch∆∞a verify, user c·∫ßn verify OTP tr∆∞·ªõc khi ƒëƒÉng nh·∫≠p</li>
                <li>T·∫•t c·∫£ user (customer, admin, partner) ƒë·ªÅu ph·∫£i verify email - kh√¥ng c√≥ ngo·∫°i l·ªá</li>
            </ul>
        </div>

        <hr>

        <h2>5. Forgot Password (Qu√™n M·∫≠t Kh·∫©u)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/forgot-password
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <h3>Body</h3>
            <pre><code>{
  "email": "nguyenvana@example.com"
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>Mi√™u t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email c·∫ßn ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "OTP_SENT_SUCCESS",
  "message": "M√£ OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email c·ªßa b·∫°n",
  "data": {
    "email": "nguyenvana@example.com",
    "otp_sent": true
  }
}</code></pre>

            <h3>Response Error</h3>
            
            <h4>Email Not Found</h4>
            <pre><code>{
  "success": false,
  "code": "EMAIL_NOT_FOUND",
  "message": "Email kh√¥ng t·ªìn t·∫°i",
  "errors": {
    "email": "Email kh√¥ng t·ªìn t·∫°i"
  }
}</code></pre>

            <h4>Validation Error</h4>
            <pre><code>{
  "success": false,
  "code": "VALIDATION_ERROR",
  "message": "D·ªØ li·ªáu kh√¥ng h·ª£p l·ªá",
  "errors": {
    "email": "The email field is required."
  }
}</code></pre>

            <h3>Response Fields</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>success</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Boolean</td>
                        <td>Tr·∫°ng th√°i th√†nh c√¥ng (<code>true</code>)</td>
                    </tr>
                    <tr>
                        <td><code>code</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M√£ response (<code>OTP_SENT_SUCCESS</code>)</td>
                    </tr>
                    <tr>
                        <td><code>message</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Th√¥ng b√°o theo ng√¥n ng·ªØ client y√™u c·∫ßu</td>
                    </tr>
                    <tr>
                        <td><code>data</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Object</td>
                        <td>D·ªØ li·ªáu tr·∫£ v·ªÅ</td>
                    </tr>
                    <tr>
                        <td><code>data.email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email ƒë√£ g·ª≠i OTP</td>
                    </tr>
                    <tr>
                        <td><code>data.otp_sent</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Boolean</td>
                        <td>OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i (<code>true</code>)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>OTP_SENT_SUCCESS</code></td>
                        <td>200</td>
                        <td>OTP ƒë√£ ƒë∆∞·ª£c g·ª≠i ƒë·∫øn email</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>EMAIL_NOT_FOUND</code></td>
                        <td>404</td>
                        <td>Email kh√¥ng t·ªìn t·∫°i trong h·ªá th·ªëng</td>
                    </tr>
                    <tr>
                        <td><code>VALIDATION_ERROR</code></td>
                        <td>422</td>
                        <td>D·ªØ li·ªáu validation kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                    <tr>
                        <td><code>PASSWORD_RESET_FAILED</code></td>
                        <td>500</td>
                        <td>L·ªói khi g·ª≠i OTP</td>
                    </tr>
                </tbody>
            </table>

            <h3>Notes</h3>
            <ul>
                <li>API s·∫Ω tr·∫£ v·ªÅ l·ªói <code>EMAIL_NOT_FOUND</code> n·∫øu email kh√¥ng t·ªìn t·∫°i trong h·ªá th·ªëng</li>
                <li>OTP s·∫Ω ƒë∆∞·ª£c g·ª≠i qua email n·∫øu email t·ªìn t·∫°i</li>
            </ul>
        </div>

        <hr>

        <h2>6. Reset Password (ƒê·∫∑t L·∫°i M·∫≠t Kh·∫©u)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/reset-password
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <h3>Body</h3>
            <pre><code>{
  "email": "nguyenvana@example.com",
  "reset_token": "C6d1L9...xYZ12",
  "password": "newpassword123",
  "password_confirmation": "newpassword123"
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>Mi√™u t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>email</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Email c·∫ßn ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u</td>
                    </tr>
                    <tr>
                        <td><code>reset_token</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Token nh·∫≠n ƒë∆∞·ª£c sau khi verify OTP (10 ph√∫t)</td>
                    </tr>
                    <tr>
                        <td><code>password</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M·∫≠t kh·∫©u m·ªõi (t·ªëi thi·ªÉu 8 k√Ω t·ª±)</td>
                    </tr>
                    <tr>
                        <td><code>password_confirmation</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi (ph·∫£i kh·ªõp v·ªõi password)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "PASSWORD_RESET_SUCCESS",
  "message": "ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u th√†nh c√¥ng",
  "data": {
    "id": 10,
    "name": "Nguy·ªÖn VƒÉn A",
    "email": "nguyenvana@example.com",
    "role": {
      "id": 3,
      "name": "Customer",
      "slug": "customer"
    }
  }
}</code></pre>

            <h3>Response Error</h3>
            <pre><code>{
  "success": false,
  "code": "RESET_TOKEN_INVALID",
  "message": "Token ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n",
  "errors": {
    "reset_token": "Token ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n"
  }
}</code></pre>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>PASSWORD_RESET_SUCCESS</code></td>
                        <td>200</td>
                        <td>ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u th√†nh c√¥ng</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>RESET_TOKEN_INVALID</code></td>
                        <td>400</td>
                        <td>Token ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u kh√¥ng h·ª£p l·ªá ho·∫∑c ƒë√£ h·∫øt h·∫°n</td>
                    </tr>
                    <tr>
                        <td><code>VALIDATION_ERROR</code></td>
                        <td>422</td>
                        <td>D·ªØ li·ªáu validation kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                    <tr>
                        <td><code>PASSWORD_RESET_FAILED</code></td>
                        <td>500</td>
                        <td>L·ªói khi ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u</td>
                    </tr>
                </tbody>
            </table>

            <h3>Notes</h3>
            <ul>
                <li>OTP ph·∫£i ƒë∆∞·ª£c verify tr∆∞·ªõc khi ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u</li>
                <li>Sau khi ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u th√†nh c√¥ng, user c√≥ th·ªÉ ƒëƒÉng nh·∫≠p v·ªõi m·∫≠t kh·∫©u m·ªõi</li>
            </ul>
        </div>

        <hr>

        <h2>7. Refresh Token (L√†m M·ªõi Access Token)</h2>

        <div class="section-box">
            <h3>URL</h3>
            <div class="url-box">
                <span class="method-badge method-post">POST</span> /api/auth/refresh
            </div>

            <h3>Method</h3>
            <p><span class="method-badge method-post">POST</span></p>

            <h3>Headers</h3>
            <div class="info-box">
                <strong>B·∫Øt bu·ªôc</strong> ‚úì
            </div>
            <ul>
                <li><code>X-Api-Key</code>: API key do server c·∫•p</li>
                <li><code>Language</code>: <code>en</code> ho·∫∑c <code>vi</code> (m·∫∑c ƒë·ªãnh: <code>en</code>)</li>
                <li><code>Content-Type</code>: <code>application/json</code></li>
                <li><code>Accept</code>: <code>application/json</code></li>
            </ul>

            <div class="warning-box">
                <strong>L∆∞u √Ω:</strong> Endpoint n√†y l√† <strong>public route</strong>, kh√¥ng c·∫ßn <code>Authorization</code> header. S·ª≠ d·ª•ng <code>refresh_token</code> t·ª´ body.
            </div>

            <h3>Body</h3>
            <pre><code>{
  "refresh_token": "C6d1L9xYZ12abc123..."
}</code></pre>

            <h3>Request Parameters</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>refresh_token</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>JWT refresh token nh·∫≠n ƒë∆∞·ª£c khi login</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Success</h3>
            <pre><code>{
  "success": true,
  "code": "TOKEN_REFRESHED_SUCCESS",
  "message": "L√†m m·ªõi token th√†nh c√¥ng",
  "data": {
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
    "token_type": "bearer",
    "expires_in": 3600
  }
}</code></pre>

            <h3>Response Fields</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tr∆∞·ªùng</th>
                        <th>B·∫Øt bu·ªôc</th>
                        <th>Ki·ªÉu d·ªØ li·ªáu</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>success</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Boolean</td>
                        <td>Tr·∫°ng th√°i th√†nh c√¥ng (<code>true</code>)</td>
                    </tr>
                    <tr>
                        <td><code>code</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>M√£ response (<code>TOKEN_REFRESHED_SUCCESS</code>)</td>
                    </tr>
                    <tr>
                        <td><code>message</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Th√¥ng b√°o theo ng√¥n ng·ªØ client y√™u c·∫ßu</td>
                    </tr>
                    <tr>
                        <td><code>data</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Object</td>
                        <td>D·ªØ li·ªáu access token m·ªõi</td>
                    </tr>
                    <tr>
                        <td><code>data.access_token</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>JWT access token m·ªõi (h·∫øt h·∫°n sau 1 gi·ªù)</td>
                    </tr>
                    <tr>
                        <td><code>data.token_type</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>String</td>
                        <td>Lo·∫°i token (<code>bearer</code>)</td>
                    </tr>
                    <tr>
                        <td><code>data.expires_in</code></td>
                        <td><span class="required">‚úì</span></td>
                        <td>Number</td>
                        <td>Th·ªùi gian h·∫øt h·∫°n (gi√¢y) - 3600 (1 gi·ªù)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Response Error</h3>
            
            <h4>Token Invalid or Expired</h4>
            <pre><code>{
  "success": false,
  "code": "TOKEN_REFRESH_FAILED",
  "message": "L√†m m·ªõi token th·∫•t b·∫°i",
  "errors": {
    "error": "Token has expired and can no longer be refreshed"
  }
}</code></pre>

            <h4>Unauthorized</h4>
            <pre><code>{
  "success": false,
  "code": "UNAUTHORIZED",
  "message": "Ch∆∞a ƒëƒÉng nh·∫≠p",
  "errors": {
    "error": "Token not provided"
  }
}</code></pre>

            <h3>Success Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>TOKEN_REFRESHED_SUCCESS</code></td>
                        <td>200</td>
                        <td>L√†m m·ªõi token th√†nh c√¥ng</td>
                    </tr>
                </tbody>
            </table>

            <h3>Error Codes</h3>
            <table>
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>HTTP Status</th>
                        <th>M√¥ t·∫£</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>TOKEN_REFRESH_FAILED</code></td>
                        <td>401</td>
                        <td>Token kh√¥ng th·ªÉ l√†m m·ªõi (ƒë√£ h·∫øt h·∫°n qu√° l√¢u ho·∫∑c kh√¥ng h·ª£p l·ªá)</td>
                    </tr>
                    <tr>
                        <td><code>UNAUTHORIZED</code></td>
                        <td>401</td>
                        <td>Ch∆∞a ƒëƒÉng nh·∫≠p ho·∫∑c token kh√¥ng h·ª£p l·ªá</td>
                    </tr>
                </tbody>
            </table>

            <h3>Notes</h3>
            <ul>
                <li><strong>Access Token Expiration</strong>: Access token c√≥ th·ªùi gian h·∫øt h·∫°n l√† <strong>1 gi·ªù (3600 gi√¢y)</strong></li>
                <li><strong>Refresh Token Expiration</strong>: Refresh token c√≥ th·ªùi gian h·∫øt h·∫°n l√† <strong>30 ng√†y</strong></li>
                <li><strong>Refresh Token Usage</strong>: Khi access token h·∫øt h·∫°n, client s·ª≠ d·ª•ng <code>refresh_token</code> ƒë·ªÉ l·∫•y <code>access_token</code> m·ªõi m√† <strong>kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p l·∫°i</strong></li>
                <li><strong>Refresh Token Security</strong>: Refresh token l√† JWT token, ƒë∆∞·ª£c l∆∞u JTI (JWT ID) trong database ƒë·ªÉ c√≥ th·ªÉ revoke khi c·∫ßn</li>
                <li><strong>Sau khi refresh</strong>: Access token m·ªõi ƒë∆∞·ª£c t·∫°o, refresh token v·∫´n gi·ªØ nguy√™n (c√≥ th·ªÉ s·ª≠ d·ª•ng l·∫°i)</li>
                <li><strong>Best Practice</strong>:
                    <ul>
                        <li>Client n√™n t·ª± ƒë·ªông refresh access token tr∆∞·ªõc khi h·∫øt h·∫°n (v√≠ d·ª•: refresh khi c√≤n 5 ph√∫t)</li>
                        <li>L∆∞u tr·ªØ refresh token an to√†n (v√≠ d·ª•: secure storage tr√™n mobile, httpOnly cookie tr√™n web)</li>
                        <li>Khi logout, n√™n g·ª≠i <code>refresh_token</code> ƒë·ªÉ x√≥a kh·ªèi database</li>
                    </ul>
                </li>
            </ul>

            <h3>Flow X·ª≠ L√Ω Token H·∫øt H·∫°n</h3>
            <pre><code>1. Client g·ªçi API v·ªõi access_token ƒë√£ h·∫øt h·∫°n
   ‚Üí Server tr·∫£ v·ªÅ 401 Unauthorized

2. Client t·ª± ƒë·ªông g·ªçi POST /api/auth/refresh v·ªõi refresh_token
   ‚Üí N·∫øu refresh_token c√≤n h·ª£p l·ªá: Nh·∫≠n access_token m·ªõi
   ‚Üí N·∫øu refresh_token ƒë√£ h·∫øt h·∫°n: Ph·∫£i ƒëƒÉng nh·∫≠p l·∫°i

3. Client s·ª≠ d·ª•ng access_token m·ªõi ƒë·ªÉ retry request ban ƒë·∫ßu</code></pre>
        </div>

        <hr>

        <h2>Flow Diagram</h2>

        <div class="section-box">
            <pre><code>Register Flow:
User ‚Üí POST /api/auth/register ‚Üí OTP sent to email
User ‚Üí POST /api/auth/verify-otp (type: register) ‚Üí Email verified
User ‚Üí POST /api/auth/login ‚Üí Receive access_token + refresh_token

Login Flow (Email not verified):
User ‚Üí POST /api/auth/login ‚Üí Error: EMAIL_NOT_VERIFIED
User ‚Üí POST /api/auth/resend-otp (type: register) ‚Üí OTP resent
User ‚Üí POST /api/auth/verify-otp (type: register) ‚Üí Email verified
User ‚Üí POST /api/auth/login ‚Üí Receive access_token + refresh_token

Token Refresh Flow:
User ‚Üí API call with expired access_token ‚Üí 401 Unauthorized
User ‚Üí POST /api/auth/refresh (with refresh_token) ‚Üí New access_token received
User ‚Üí Retry original API call with new access_token ‚Üí Success

Logout Flow:
User ‚Üí POST /api/auth/logout (with refresh_token) ‚Üí Access token invalidated + Refresh token deleted

Forgot Password Flow:
User ‚Üí POST /api/auth/forgot-password ‚Üí OTP sent to email
User ‚Üí POST /api/auth/verify-otp (type: forgot_password) ‚Üí Receive reset_token
User ‚Üí POST /api/auth/reset-password (with reset_token) ‚Üí Password reset successfully</code></pre>
        </div>

        <hr>

        <h2>L∆∞u √ù Quan Tr·ªçng</h2>

        <div class="section-box">
            <ol>
                <li><strong>OTP Expiration</strong>: OTP h·∫øt h·∫°n sau 5 ph√∫t</li>
                <li><strong>Rate Limiting</strong>: Ph·∫£i ƒë·ª£i 60 gi√¢y gi·ªØa c√°c l·∫ßn g·ª≠i l·∫°i OTP</li>
                <li><strong>OTP Format</strong>: 6 ch·ªØ s·ªë (0-9)</li>
                <li><strong>Email Verification</strong>: B·∫Øt bu·ªôc cho t·∫•t c·∫£ user (customer, admin, partner) - kh√¥ng c√≥ ngo·∫°i l·ªá</li>
                <li><strong>Forgot Password</strong>: API forgot-password s·∫Ω tr·∫£ v·ªÅ l·ªói <code>EMAIL_NOT_FOUND</code> n·∫øu email kh√¥ng t·ªìn t·∫°i trong h·ªá th·ªëng</li>
                <li><strong>Reset Token</strong>: Sau khi verify OTP (type: forgot_password), client ph·∫£i s·ª≠ d·ª•ng <code>reset_token</code> (h·∫øt h·∫°n sau 10 ph√∫t) ƒë·ªÉ g·ªçi API <code>reset-password</code></li>
                <li><strong>Access Token & Refresh Token Pattern</strong>:
                    <ul>
                        <li><strong>Access Token</strong>: JWT token ng·∫Øn h·∫°n, h·∫øt h·∫°n sau <strong>1 gi·ªù (3600 gi√¢y)</strong>. D√πng ƒë·ªÉ truy c·∫≠p c√°c API protected</li>
                        <li><strong>Refresh Token</strong>: Token d√†i h·∫°n, h·∫øt h·∫°n sau <strong>30 ng√†y</strong>. D√πng ƒë·ªÉ refresh access token m√† kh√¥ng c·∫ßn ƒëƒÉng nh·∫≠p l·∫°i</li>
                        <li>Khi login th√†nh c√¥ng, client nh·∫≠n c·∫£ <code>access_token</code> v√† <code>refresh_token</code></li>
                    </ul>
                </li>
                <li><strong>Refresh Token Flow</strong>: Khi access token h·∫øt h·∫°n, client g·ªçi API <code>/api/auth/refresh</code> v·ªõi <code>refresh_token</code> ƒë·ªÉ nh·∫≠n <code>access_token</code> m·ªõi</li>
                <li><strong>Token Security</strong>: Refresh token l√† JWT token, JTI (JWT ID) ƒë∆∞·ª£c l∆∞u trong database ƒë·ªÉ c√≥ th·ªÉ revoke. Khi logout, n√™n g·ª≠i <code>refresh_token</code> ƒë·ªÉ x√≥a JTI kh·ªèi database</li>
                <li><strong>Token Refresh Best Practice</strong>: Client n√™n t·ª± ƒë·ªông refresh access token tr∆∞·ªõc khi h·∫øt h·∫°n (v√≠ d·ª•: refresh khi c√≤n 5 ph√∫t) ƒë·ªÉ tr√°nh gi√°n ƒëo·∫°n tr·∫£i nghi·ªám ng∆∞·ªùi d√πng</li>
            </ol>
        </div>

    </div>
</body>
</html>
