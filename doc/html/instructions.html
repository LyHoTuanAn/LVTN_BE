<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìñ H∆∞·ªõng D·∫´n Ph√°t Tri·ªÉn D·ª± √Ån - H·ªá Th·ªëng ƒê·∫∑t V√© Xem Phim</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/clouds/100/web.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: #1a1a1a;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        h1 {
            color: #4a9eff;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 3px solid #4a9eff;
            padding-bottom: 15px;
        }

        h2 {
            color: #6bc46b;
            font-size: 2em;
            margin-top: 40px;
            margin-bottom: 20px;
            padding: 15px;
            background: #252525;
            border-left: 4px solid #6bc46b;
            border-radius: 6px;
        }

        h3 {
            color: #ffa94d;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
            padding: 10px;
            background: #2a2a2a;
            border-left: 3px solid #ffa94d;
            border-radius: 4px;
        }

        h4 {
            color: #9d9dff;
            font-size: 1.2em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        h5 {
            color: #ff6b9d;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        .section-box {
            background: #222222;
            border: 1px solid #333333;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .info-box {
            background: #1e3a5f;
            border-left: 4px solid #4a9eff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .warning-box {
            background: #5a3a1e;
            border-left: 4px solid #ffa94d;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .success-box {
            background: #1e3a2e;
            border-left: 4px solid #6bc46b;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        .error-box {
            background: #5a1e1e;
            border-left: 4px solid #ff6b9d;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        code {
            background: #2a2a2a;
            color: #ff6b9d;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #1a1a1a;
            border: 1px solid #333333;
            border-radius: 8px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        pre code {
            background: transparent;
            color: #e0e0e0;
            padding: 0;
            font-size: 0.95em;
            line-height: 1.5;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #222222;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        th {
            background: #2a2a2a;
            color: #4a9eff;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #4a9eff;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #333333;
            color: #d0d0d0;
        }

        tr:hover {
            background: #2a2a2a;
        }

        tr:last-child td {
            border-bottom: none;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 8px 0;
            color: #d0d0d0;
        }

        hr {
            border: none;
            border-top: 2px solid #333333;
            margin: 40px 0;
        }

        .toc {
            background: #222222;
            border: 1px solid #333333;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }

        .toc ol {
            list-style: none;
            padding-left: 0;
        }

        .toc li {
            margin: 10px 0;
        }

        .toc a {
            color: #4a9eff;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        .checklist {
            list-style: none;
            padding-left: 0;
        }

        .checklist li {
            margin: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .checklist li:before {
            content: "‚òê";
            position: absolute;
            left: 0;
            color: #4a9eff;
            font-size: 1.2em;
        }

        .checklist li.checked:before {
            content: "‚òë";
            color: #6bc46b;
        }

        strong {
            color: #4a9eff;
        }

        em {
            color: #ffa94d;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            h2 {
                font-size: 1.5em;
            }

            table {
                font-size: 0.9em;
            }

            th, td {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìñ H∆Ø·ªöNG D·∫™N PH√ÅT TRI·ªÇN D·ª∞ √ÅN</h1>
        <p style="text-align: center; color: #9d9dff; font-size: 1.2em; margin-bottom: 30px;">H·ªá Th·ªëng ƒê·∫∑t V√© Xem Phim</p>

        <div class="toc">
            <h2>üìã M·ª§C L·ª§C</h2>
            <ol>
                <li><a href="#tong-quan">T·ªïng quan d·ª± √°n</a></li>
                <li><a href="#cau-truc-thu-muc">C·∫•u tr√∫c th∆∞ m·ª•c d·ª± √°n</a></li>
                <li><a href="#cau-truc-database">C·∫•u tr√∫c Database</a></li>
                <li><a href="#quy-tac-api">Quy t·∫Øc API</a></li>
                <li><a href="#cau-truc-response">C·∫•u tr√∫c Response</a></li>
                <li><a href="#service-pattern">Service Pattern</a></li>
                <li><a href="#quy-tac-viet-code">Quy t·∫Øc vi·∫øt Code</a></li>
                <li><a href="#documentation">Documentation</a></li>
                <li><a href="#quy-trinh-lam-viec">Quy tr√¨nh l√†m vi·ªác</a></li>
            </ol>
        </div>

        <hr>

        <h2 id="tong-quan">üéØ T·ªîNG QUAN D·ª∞ √ÅN</h2>

        <div class="section-box">
            <h3>C√¥ng ngh·ªá s·ª≠ d·ª•ng</h3>
            <ul>
                <li><strong>Framework</strong>: Laravel 12</li>
                <li><strong>Database</strong>: MySQL</li>
                <li><strong>Authentication</strong>: JWT (tymon/jwt-auth)</li>
                <li><strong>API</strong>: RESTful API cho Mobile App (Flutter)</li>
                <li><strong>Web</strong>: Admin Panel + Public Website</li>
            </ul>

            <h3>Ki·∫øn tr√∫c</h3>
            <ul>
                <li><strong>Service Pattern</strong>: T·∫•t c·∫£ business logic ƒë·∫∑t trong Services, Controllers ch·ªâ g·ªçi Services</li>
                <li><strong>Response Format</strong>: Th·ªëng nh·∫•t format response cho t·∫•t c·∫£ API</li>
                <li><strong>i18n</strong>: H·ªó tr·ª£ ƒëa ng√¥n ng·ªØ (Ti·∫øng Vi·ªát v√† Ti·∫øng Anh)</li>
            </ul>
        </div>

        <hr>

        <h2 id="cau-truc-thu-muc">üìÅ C·∫§U TR√öC TH∆Ø M·ª§C D·ª∞ √ÅN</h2>

        <div class="section-box">
            <h3>C·∫•u tr√∫c ho√†n ch·ªânh</h3>
            <pre><code>LVTN_BE/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Controllers/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Api/              # API Controllers cho Mobile
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Admin/            # Admin Controllers
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Partner/          # Partner Controllers
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Web/              # Public Web Controllers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Middleware/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Requests/             # Form Requests
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Resources/            # API Resources
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Traits/
‚îÇ   ‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îú‚îÄ‚îÄ Services/                 # Service Layer
‚îÇ   ‚îú‚îÄ‚îÄ Helpers/                  # Helper Classes
‚îÇ   ‚îî‚îÄ‚îÄ Providers/
‚îú‚îÄ‚îÄ bootstrap/
‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îî‚îÄ‚îÄ seeders/
‚îú‚îÄ‚îÄ doc/
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # API Documentation (Markdown)
‚îÇ   ‚îú‚îÄ‚îÄ html/                     # API Documentation (HTML)
‚îÇ   ‚îî‚îÄ‚îÄ task/                     # Task Documentation
‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îú‚îÄ‚îÄ lang/
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ api.php
‚îÇ   ‚îî‚îÄ‚îÄ web.php
‚îî‚îÄ‚îÄ ...</code></pre>

            <h3>M√¥ t·∫£ c√°c th∆∞ m·ª•c ch√≠nh</h3>
            <ul>
                <li><strong><code>app/Http/Controllers/Api/</code></strong>: Controllers cho Mobile App API</li>
                <li><strong><code>app/Http/Controllers/Admin/</code></strong>: Controllers cho Admin Panel</li>
                <li><strong><code>app/Http/Controllers/Partner/</code></strong>: Controllers cho Partner Dashboard</li>
                <li><strong><code>app/Http/Controllers/Web/</code></strong>: Controllers cho Public Website</li>
                <li><strong><code>app/Http/Resources/</code></strong>: API Resources ƒë·ªÉ format d·ªØ li·ªáu tr·∫£ v·ªÅ</li>
                <li><strong><code>app/Http/Middleware/</code></strong>: Custom Middleware</li>
                <li><strong><code>app/Http/Requests/</code></strong>: Form Request Validation</li>
                <li><strong><code>app/Services/</code></strong>: Business Logic Layer</li>
                <li><strong><code>app/Models/</code></strong>: Eloquent Models</li>
                <li><strong><code>app/Helpers/</code></strong>: Helper Classes</li>
                <li><strong><code>doc/api/</code></strong>: API Documentation (Markdown) - File g·ªëc</li>
                <li><strong><code>doc/html/</code></strong>: API Documentation (HTML) - File HTML ƒë∆∞·ª£c convert t·ª´ Markdown ƒë·ªÉ hi·ªÉn th·ªã tr√™n web</li>
                <li><strong><code>doc/task/</code></strong>: Task Documentation</li>
                <li><strong><code>resources/lang/</code></strong>: i18n files</li>
            </ul>
        </div>

        <hr>

        <h2 id="cau-truc-database">üóÑÔ∏è C·∫§U TR√öC DATABASE</h2>

        <div class="section-box">
            <h3>Schema ch√≠nh</h3>
            <p>Database schema ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong file <code>b.sql</code>. C√°c b·∫£ng ch√≠nh:</p>

            <h4>1. Ph√¢n quy·ªÅn</h4>
            <ul>
                <li><code>roles</code> - Vai tr√≤ (admin, partner, customer)</li>
                <li><code>permissions</code> - Quy·ªÅn h·∫°n</li>
                <li><code>role_permissions</code> - Ph√¢n quy·ªÅn cho t·ª´ng role</li>
                <li><code>users</code> - Ng∆∞·ªùi d√πng (c√≥ <code>role_id</code>, <code>avatar_id</code>)</li>
            </ul>

            <h4>2. Media System</h4>
            <ul>
                <li><code>media_folders</code> - Th∆∞ m·ª•c media</li>
                <li><code>media_files</code> - File media (·∫£nh, video)</li>
            </ul>

            <h4>3. Core Business</h4>
            <ul>
                <li><code>movies</code> - Phim</li>
                <li><code>cinemas</code> - R·∫°p chi·∫øu phim</li>
                <li><code>rooms</code> - Ph√≤ng chi·∫øu</li>
                <li><code>seats</code> - Gh·∫ø ng·ªìi</li>
                <li><code>showtimes</code> - Su·∫•t chi·∫øu</li>
                <li><code>bookings</code> - ƒê·∫∑t v√©</li>
                <li><code>booking_seats</code> - Gh·∫ø ƒë√£ ƒë·∫∑t</li>
            </ul>

            <h4>4. Reviews & Favorites</h4>
            <ul>
                <li><code>reviews</code> - ƒê√°nh gi√° phim</li>
                <li><code>favorite_movies</code> - Phim y√™u th√≠ch</li>
            </ul>

            <h4>5. Vouchers</h4>
            <ul>
                <li><code>vouchers</code> - M√£ gi·∫£m gi√°</li>
            </ul>

            <h3>Quy t·∫Øc khi t·∫°o Migration</h3>
            <div class="success-box">
                <strong>‚úÖ B·∫ÆT BU·ªòC:</strong>
                <ol>
                    <li><strong>T·∫•t c·∫£ Foreign Keys PH·∫¢I c√≥ Index</strong>
                        <pre><code>$table->foreign('user_id')->references('id')->on('users');
$table->index('user_id'); // B·∫ÆT BU·ªòC</code></pre>
                    </li>
                    <li><strong>T·∫•t c·∫£ c·ªôt th∆∞·ªùng query PH·∫¢I c√≥ Index</strong>
                        <ul>
                            <li><code>status</code>, <code>email</code>, <code>code</code>, <code>slug</code>, <code>name</code>, <code>date</code>, <code>created_at</code></li>
                            <li>Composite indexes cho c√°c query ph·ª©c t·∫°p</li>
                        </ul>
                    </li>
                    <li><strong>Soft Deletes cho c√°c b·∫£ng quan tr·ªçng</strong>
                        <pre><code>$table->softDeletes();
$table->index('deleted_at');</code></pre>
                    </li>
                    <li><strong>ENUM cho c√°c tr∆∞·ªùng c√≥ gi√° tr·ªã c·ªë ƒë·ªãnh</strong>
                        <pre><code>$table->enum('status', ['active', 'inactive'])->default('active');</code></pre>
                    </li>
                    <li><strong>UNIQUE constraints cho c√°c tr∆∞·ªùng kh√¥ng ƒë∆∞·ª£c tr√πng</strong>
                        <pre><code>$table->unique(['cinema_id', 'name']); // Kh√¥ng ƒë∆∞·ª£c tr√πng t√™n ph√≤ng trong c√πng r·∫°p</code></pre>
                    </li>
                    <li><strong>NOT NULL cho c√°c tr∆∞·ªùng b·∫Øt bu·ªôc</strong>
                        <pre><code>$table->string('name')->nullable(); // Ch·ªâ nullable khi th·ª±c s·ª± c·∫ßn</code></pre>
                    </li>
                </ol>
            </div>

            <h3>V√≠ d·ª• Migration ƒë√∫ng chu·∫©n</h3>
            <pre><code>Schema::create('showtimes', function (Blueprint $table) {
    $table->id();
    $table->foreignId('movie_id')->constrained()->onDelete('restrict');
    $table->foreignId('room_id')->constrained()->onDelete('restrict');
    $table->date('date');
    $table->time('start_time');
    $table->time('end_time');
    $table->decimal('price', 10, 2);
    $table->enum('status', ['scheduled', 'ongoing', 'completed', 'cancelled'])->default('scheduled');
    $table->timestamps();
    $table->softDeletes();
    
    // Indexes B·∫ÆT BU·ªòC
    $table->index('movie_id');
    $table->index('room_id');
    $table->index('date');
    $table->index('status');
    $table->index(['date', 'start_time']);
    $table->index(['movie_id', 'date']);
    $table->index('deleted_at');
    
    // UNIQUE constraint
    $table->unique(['room_id', 'date', 'start_time']);
});</code></pre>
        </div>

        <hr>

        <h2 id="quy-tac-api">üîê QUY T·∫ÆC API</h2>

        <div class="section-box">
            <h3>Headers b·∫Øt bu·ªôc</h3>
            <div class="info-box">
                <strong>T·∫§T C·∫¢ API ph·∫£i c√≥ 2 headers sau:</strong>
                <ol>
                    <li><strong>X-Api-Key</strong>: API key do server c·∫•p
                        <pre><code>X-Api-Key: your-api-key-here</code></pre>
                    </li>
                    <li><strong>Language</strong>: Ng√¥n ng·ªØ (en ho·∫∑c vi), m·∫∑c ƒë·ªãnh: en
                        <pre><code>Language: vi
ho·∫∑c
Language: en</code></pre>
                    </li>
                </ol>
            </div>

            <h3>Middleware Order</h3>
            <p>Th·ª© t·ª± middleware √°p d·ª•ng:</p>
            <pre><code>LanguageMiddleware ‚Üí ApiKeyMiddleware ‚Üí JWT ‚Üí Role ‚Üí Permission</code></pre>
            <div class="warning-box">
                <strong>L∆∞u √Ω quan tr·ªçng:</strong> <code>LanguageMiddleware</code> PH·∫¢I ch·∫°y tr∆∞·ªõc <code>ApiKeyMiddleware</code> ƒë·ªÉ ƒë·∫£m b·∫£o message error ƒë∆∞·ª£c d·ªãch ƒë√∫ng ng√¥n ng·ªØ khi API key kh√¥ng h·ª£p l·ªá.
            </div>
        </div>

        <hr>

        <h2 id="cau-truc-response">üì§ C·∫§U TR√öC RESPONSE</h2>

        <div class="section-box">
            <h3>Format th·ªëng nh·∫•t</h3>
            <div class="info-box">
                <strong>T·∫§T C·∫¢ API ph·∫£i tr·∫£ v·ªÅ c√πng 1 format:</strong>
            </div>

            <h4>Response th√†nh c√¥ng:</h4>
            <pre><code>{
  "success": true,
  "code": "USER_CREATED_SUCCESS",
  "message": "User created successfully",
  "data": {
    "id": 10,
    "name": "Nguy·ªÖn VƒÉn A"
  }
}</code></pre>

            <h4>Response l·ªói:</h4>
            <pre><code>{
  "success": false,
  "code": "EMAIL_EXISTS",
  "message": "The email has already been taken",
  "errors": {
    "email": "This email is already in use"
  }
}</code></pre>

            <h3>Quy t·∫Øc</h3>
            <ol>
                <li><strong>Lu√¥n c√≥ <code>code</code></strong>: C·∫£ success v√† error ƒë·ªÅu ph·∫£i c√≥ <code>code</code></li>
                <li><strong>Message theo ng√¥n ng·ªØ</strong>: L·∫•y t·ª´ <code>resources/lang/{locale}/errors.php</code> ho·∫∑c <code>success.php</code></li>
                <li><strong>Kh√¥ng d√πng text t·ª± do</strong>: T·∫•t c·∫£ message ph·∫£i ƒë·ªãnh nghƒ©a trong file lang</li>
            </ol>

            <h3>API Resources</h3>
            <div class="info-box">
                <strong>T·∫§T C·∫¢ d·ªØ li·ªáu tr·∫£ v·ªÅ PH·∫¢I s·ª≠ d·ª•ng API Resources ƒë·ªÉ format.</strong>
            </div>
            <ul>
                <li>ƒê·∫∑t trong <code>app/Http/Resources/</code></li>
                <li>M·ªói Model c√≥ 1 Resource t∆∞∆°ng ·ª©ng</li>
                <li>Resource format d·ªØ li·ªáu tr∆∞·ªõc khi tr·∫£ v·ªÅ</li>
            </ul>

            <h4>V√≠ d·ª• Resource</h4>
            <pre><code>namespace App\Http\Resources;

use Illuminate\Http\Request;
use Illuminate\Http\Resources\Json\JsonResource;

class UserResource extends JsonResource
{
    public function toArray(Request $request): array
    {
        return [
            'id' => $this->id,
            'name' => $this->name,
            'email' => $this->email,
            'phone' => $this->phone,
            'address' => $this->address,
            'role' => new RoleResource($this->whenLoaded('role')),
            'avatar' => new MediaFileResource($this->whenLoaded('avatar')),
            'created_at' => $this->created_at?->toDateTimeString(),
            'updated_at' => $this->updated_at?->toDateTimeString(),
        ];
    }
}</code></pre>

            <h4>S·ª≠ d·ª•ng trong Controller</h4>
            <pre><code>use App\Http\Traits\ApiResponseTrait;
use App\Http\Resources\UserResource;

class AuthController extends Controller
{
    use ApiResponseTrait;
    
    public function register(Request $request)
    {
        // ... logic t·∫°o user
        
        return $this->successResponse(
            'USER_CREATED_SUCCESS',
            new UserResource($user),
            'User created successfully'
        );
    }
    
    public function me()
    {
        $user = auth()->user();
        $user->load(['role', 'avatar']); // Eager load relationships
        
        return $this->successResponse(
            'USER_FETCHED_SUCCESS',
            new UserResource($user),
            'User fetched successfully'
        );
    }
}</code></pre>
        </div>

        <hr>

        <h2 id="service-pattern">üèóÔ∏è SERVICE PATTERN</h2>

        <div class="section-box">
            <h3>Nguy√™n t·∫Øc</h3>
            <div class="warning-box">
                <strong>Controllers KH√îNG ƒë∆∞·ª£c ch·ª©a business logic. T·∫•t c·∫£ logic ƒë·∫∑t trong Services.</strong>
            </div>

            <h3>C·∫•u tr√∫c th∆∞ m·ª•c</h3>
            <pre><code>app/Services/
‚îú‚îÄ‚îÄ Auth/
‚îÇ   ‚îî‚îÄ‚îÄ AuthService.php
‚îú‚îÄ‚îÄ Movie/
‚îÇ   ‚îú‚îÄ‚îÄ MovieService.php
‚îÇ   ‚îî‚îÄ‚îÄ MovieSearchService.php
‚îú‚îÄ‚îÄ Booking/
‚îÇ   ‚îú‚îÄ‚îÄ BookingService.php
‚îÇ   ‚îî‚îÄ‚îÄ BookingValidationService.php
‚îú‚îÄ‚îÄ Cinema/
‚îÇ   ‚îú‚îÄ‚îÄ CinemaService.php
‚îÇ   ‚îú‚îÄ‚îÄ RoomService.php
‚îÇ   ‚îî‚îÄ‚îÄ SeatService.php
‚îî‚îÄ‚îÄ ...</code></pre>

            <h3>Quy t·∫Øc vi·∫øt Service</h3>
            <ol>
                <li><strong>Service tr·ª±c ti·∫øp l√†m vi·ªác v·ªõi Model</strong> (kh√¥ng d√πng Repository pattern)</li>
                <li><strong>M·ªói Service class ch·ªâ x·ª≠ l√Ω 1 domain c·ª• th·ªÉ</strong></li>
                <li><strong>Service methods ph·∫£i c√≥ t√™n r√µ r√†ng, m√¥ t·∫£ ƒë√∫ng ch·ª©c nƒÉng</strong></li>
                <li><strong>Service tr·∫£ v·ªÅ data, kh√¥ng tr·∫£ v·ªÅ Response</strong></li>
            </ol>

            <h3>V√≠ d·ª• Service</h3>
            <pre><code>namespace App\Services\Movie;

use App\Models\Movie;
use Illuminate\Support\Facades\DB;

class MovieService
{
    public function getAllMovies(array $filters = [])
    {
        $query = Movie::query();
        
        if (isset($filters['status'])) {
            $query->where('status', $filters['status']);
        }
        
        if (isset($filters['search'])) {
            $query->where('title', 'like', '%' . $filters['search'] . '%');
        }
        
        return $query->with(['poster', 'trailer'])->paginate(15);
    }
    
    public function createMovie(array $data): Movie
    {
        return DB::transaction(function () use ($data) {
            return Movie::create($data);
        });
    }
}</code></pre>
        </div>

        <hr>

        <h2 id="quy-tac-viet-code">üìù QUY T·∫ÆC VI·∫æT CODE</h2>

        <div class="section-box">
            <h3>1. Models</h3>
            <h4>Relationships</h4>
            <ul>
                <li>ƒê·ªãnh nghƒ©a ƒë·∫ßy ƒë·ªß relationships</li>
                <li>S·ª≠ d·ª•ng <code>$fillable</code>, <code>$casts</code>, <code>$hidden</code> ph√π h·ª£p</li>
                <li>Eager loading ƒë·ªÉ tr√°nh N+1 queries</li>
            </ul>

            <h3>2. Controllers</h3>
            <h4>Quy t·∫Øc</h4>
            <ul>
                <li>Ch·ªâ g·ªçi Service, kh√¥ng c√≥ business logic</li>
                <li>S·ª≠ d·ª•ng <code>ApiResponseTrait</code> ƒë·ªÉ tr·∫£ v·ªÅ response</li>
                <li>Validation s·ª≠ d·ª•ng Form Requests</li>
                <li>T√™n method r√µ r√†ng: <code>index</code>, <code>store</code>, <code>show</code>, <code>update</code>, <code>destroy</code></li>
            </ul>

            <h3>3. Form Requests</h3>
            <h4>Validation</h4>
            <ul>
                <li>T·∫°o Form Request cho c√°c endpoint quan tr·ªçng</li>
                <li>Validation rules r√µ r√†ng</li>
                <li>Custom messages n·∫øu c·∫ßn</li>
            </ul>

            <h3>4. Middleware</h3>
            <h4>ƒêƒÉng k√Ω Middleware trong Config Files</h4>
            <div class="error-box">
                <strong>‚ùå KH√îNG l√†m nh∆∞ n√†y:</strong>
                <pre><code>// config/api.php
return [
    'middleware' => [
        'api.key' => \App\Http\Middleware\ApiKeyMiddleware::class,
    ],
];</code></pre>
            </div>

            <div class="success-box">
                <strong>‚úÖ N√äN l√†m nh∆∞ n√†y:</strong>
                <pre><code>// config/api.php
use App\Http\Middleware\ApiKeyMiddleware;

return [
    'middleware' => [
        'api.key' => ApiKeyMiddleware::class,
    ],
];</code></pre>
            </div>

            <p><strong>Quy t·∫Øc:</strong></p>
            <ul>
                <li>Lu√¥n d√πng <code>use</code> statement ·ªü ƒë·∫ßu file config</li>
                <li>S·ª≠ d·ª•ng class name thay v√¨ full namespace string</li>
                <li>Code r√µ r√†ng, d·ªÖ ƒë·ªçc v√† maintain h∆°n</li>
            </ul>
        </div>

        <hr>

        <h2 id="documentation">üìö DOCUMENTATION</h2>

        <div class="section-box">
            <h3>API Documentation</h3>
            <div class="info-box">
                <strong>Sau khi vi·∫øt xong 1 API, B·∫ÆT BU·ªòC ph·∫£i vi·∫øt documentation:</strong>
                <ol>
                    <li><strong>File Markdown</strong> trong <code>doc/api/</code> (v√≠ d·ª•: <code>doc/api/auth-otp.md</code>)</li>
                    <li><strong>File HTML</strong> trong <code>doc/html/</code> (v√≠ d·ª•: <code>doc/html/auth-otp.html</code>) - Convert t·ª´ Markdown v·ªõi dark theme, format ƒë·∫πp ƒë·ªÉ hi·ªÉn th·ªã tr√™n web</li>
                </ol>
            </div>

            <h3>Task Documentation</h3>
            <p><strong>Sau khi ho√†n th√†nh 1 task, ghi l·∫°i trong <code>doc/task/</code>:</strong></p>
            <p>Format: <code>YYYY-MM-DD-[t√™n-task].md</code></p>
            <p>V√≠ d·ª•: <code>2024-01-15-implement-authentication-api.md</code></p>
        </div>

        <hr>

        <h2 id="quy-trinh-lam-viec">‚úÖ CHECKLIST KHI T·∫†O API M·ªöI</h2>

        <div class="section-box">
            <ul class="checklist">
                <li>T·∫°o Migration v·ªõi ƒë·∫ßy ƒë·ªß indexes</li>
                <li>T·∫°o Model v·ªõi relationships ƒë·∫ßy ƒë·ªß</li>
                <li>T·∫°o API Resource trong <code>app/Http/Resources/</code> ƒë·ªÉ format d·ªØ li·ªáu</li>
                <li>T·∫°o Service v·ªõi business logic</li>
                <li>T·∫°o Controller s·ª≠ d·ª•ng Service v√† Resource</li>
                <li>T·∫°o Form Request cho validation (n·∫øu c·∫ßn)</li>
                <li>S·ª≠ d·ª•ng <code>ApiResponseTrait</code> cho response</li>
                <li>Message l·∫•y t·ª´ file lang (errors.php/success.php)</li>
                <li>Eager load relationships tr∆∞·ªõc khi tr·∫£ v·ªÅ Resource</li>
                <li>ƒêƒÉng k√Ω routes v·ªõi middleware ph√π h·ª£p</li>
                <li>Vi·∫øt API documentation trong <code>doc/api/</code> (theo format chu·∫©n v·ªõi b·∫£ng Request Parameters v√† Response Fields)</li>
                <li>Convert documentation sang HTML v√† l∆∞u v√†o <code>doc/html/</code> (dark theme, format ƒë·∫πp)</li>
                <li>Test API v·ªõi Postman</li>
                <li>Ghi l·∫°i task trong <code>doc/task/</code> (theo format chu·∫©n)</li>
                <li><strong>N·∫øu c√≥ g·ª≠i email</strong>: Truy·ªÅn locale t·ª´ Controller ‚Üí Service ‚Üí Mail, set locale trong email view</li>
            </ul>
        </div>

        <hr>

        <h2>‚úÖ CHECKLIST KHI T·∫†O ADMIN PAGE</h2>

        <div class="section-box">
            <ul class="checklist">
                <li>Code b·∫±ng ti·∫øng Anh tr·ª±c ti·∫øp trong Blade</li>
                <li>S·ª≠ d·ª•ng <code>__('Text')</code> ƒë·ªÉ d·ªãch (chu·∫©n Laravel)</li>
                <li>Th√™m b·∫£n d·ªãch v√†o <code>resources/lang/vi/vi.json</code> v√† <code>resources/lang/en/en.json</code> n·∫øu c·∫ßn</li>
                <li>S·ª≠ d·ª•ng <code>use</code> statement trong config files, kh√¥ng d√πng full namespace string</li>
                <li>Test v·ªõi c·∫£ 2 locale (en v√† vi)</li>
            </ul>
        </div>

        <hr>

        <h2>üö´ NH·ªÆNG ƒêI·ªÄU KH√îNG ƒê∆Ø·ª¢C L√ÄM</h2>

        <div class="section-box">
            <div class="error-box">
                <ol>
                    <li>‚ùå <strong>KH√îNG</strong> vi·∫øt business logic trong Controller</li>
                    <li>‚ùå <strong>KH√îNG</strong> tr·∫£ v·ªÅ response format kh√°c nhau</li>
                    <li>‚ùå <strong>KH√îNG</strong> tr·∫£ v·ªÅ Model tr·ª±c ti·∫øp, PH·∫¢I d√πng API Resource</li>
                    <li>‚ùå <strong>KH√îNG</strong> d√πng text t·ª± do trong response message</li>
                    <li>‚ùå <strong>KH√îNG</strong> t·∫°o migration thi·∫øu indexes</li>
                    <li>‚ùå <strong>KH√îNG</strong> vi·∫øt code lan man, m·ªü r·ªông kh√¥ng c·∫ßn thi·∫øt</li>
                    <li>‚ùå <strong>KH√îNG</strong> t·∫°o API m√† kh√¥ng vi·∫øt documentation (ph·∫£i c√≥ b·∫£ng Request Parameters v√† Response Fields)</li>
                    <li>‚ùå <strong>KH√îNG</strong> commit code ch∆∞a test</li>
                    <li>‚ùå <strong>KH√îNG</strong> vi·∫øt documentation thi·∫øu format chu·∫©n</li>
                    <li>‚ùå <strong>KH√îNG</strong> d√πng full namespace string trong config files, PH·∫¢I d√πng <code>use</code> statement</li>
                    <li>‚ùå <strong>KH√îNG</strong> t·∫°o helper function t√πy ch·ªânh, PH·∫¢I d√πng chu·∫©n Laravel (<code>__()</code>)</li>
                    <li>‚ùå <strong>KH√îNG</strong> g·ª≠i email m√† kh√¥ng truy·ªÅn locale, PH·∫¢I g·ª≠i email theo ƒë√∫ng ng√¥n ng·ªØ client y√™u c·∫ßu</li>
                </ol>
            </div>
        </div>

        <hr>

        <h2>üìñ T√ÄI LI·ªÜU THAM KH·∫¢O</h2>

        <div class="section-box">
            <ul>
                <li>Laravel Documentation: <a href="https://laravel.com/docs" target="_blank" style="color: #4a9eff;">https://laravel.com/docs</a></li>
                <li>JWT Auth: <a href="https://jwt-auth.readthedocs.io/" target="_blank" style="color: #4a9eff;">https://jwt-auth.readthedocs.io/</a></li>
                <li>Database Schema: Xem file <code>b.sql</code></li>
            </ul>
        </div>

        <hr>

        <h2>üí° L∆ØU √ù QUAN TR·ªåNG</h2>

        <div class="section-box">
            <ol>
                <li><strong>Lu√¥n t·∫≠p trung v√†o v·∫•n ƒë·ªÅ ch√≠nh</strong>, tr√°nh vi·∫øt code lan man</li>
                <li><strong>T√°i s·ª≠ d·ª•ng code</strong> qua Service pattern</li>
                <li><strong>Th·ªëng nh·∫•t format response</strong> cho t·∫•t c·∫£ API</li>
                <li><strong>Vi·∫øt documentation</strong> sau m·ªói API</li>
                <li><strong>Test k·ªπ</strong> tr∆∞·ªõc khi commit</li>
            </ol>
        </div>

        <div class="success-box" style="text-align: center; margin-top: 40px;">
            <h2 style="margin: 0;">üöÄ Ch√∫c c√°c b·∫°n code vui v·∫ª!</h2>
        </div>
    </div>
</body>
</html>

